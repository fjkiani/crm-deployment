import{_ as ue,f as t,c as u,d as s,l as O,a as de,G as Z,e as P,L as H,M as W,t as L,b as i,a1 as S,ai as pe,u as r,aA as ge,g as d,B as f,y as X,X as me,z as ve,w as _,n as be,aB as ke,N as Q,O as Ce,ag as xe,af as we,W as $e,a3 as Se,aa as Le,F as E,r as R,a8 as ee,A as te,K as ae,Y as K,ay as Ve,ah as Be,aC as Fe,U as G}from"./index-907bf49f.js";import{u as Ie,f as A,g as De,b as Me}from"./modals-f82a09a6.js";import{E as z,D as le,b as Ne,i as Oe,d as Ue,_ as Pe}from"./DragVerticalIcon-f3cf7bea.js";import{_ as je,L as Ee,G as Te,K as Ae}from"./FadedScrollableDiv-010f9d1d.js";import{A as ze}from"./ArrowUpRightIcon-6dda4bf5.js";import{a as Je,_ as oe}from"./Link-f0c71ee2.js";import{g as ne,b as Re,u as Ke,q as se,_ as re,r as ie,x as q}from"./index-8953e7e5.js";const Ge={},qe={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function Ze(c,b){return t(),u("svg",qe,b[0]||(b[0]=[s("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M14 8C14 11.3137 11.3137 14 8 14C4.68629 14 2 11.3137 2 8C2 4.68629 4.68629 2 8 2C11.3137 2 14 4.68629 14 8ZM15 8C15 11.866 11.866 15 8 15C4.13401 15 1 11.866 1 8C1 4.13401 4.13401 1 8 1C11.866 1 15 4.13401 15 8ZM11.2909 5.98482C11.4666 5.77175 11.4363 5.45663 11.2232 5.28096C11.0101 5.1053 10.695 5.13561 10.5193 5.34868L7.07001 9.53239L5.72845 7.79857C5.55946 7.58018 5.24543 7.54012 5.02703 7.70911C4.80863 7.8781 4.76858 8.19214 4.93756 8.41053L6.66217 10.6394C6.7552 10.7596 6.89788 10.831 7.04988 10.8334C7.20188 10.8357 7.3467 10.7688 7.4434 10.6515L11.2909 5.98482Z",fill:"currentColor"},null,-1)]))}const He=ue(Ge,[["render",Ze]]),We={class:"group flex w-full items-center justify-between rounded bg-transparent p-1 pl-2 text-base text-ink-gray-8 transition-colors hover:bg-surface-gray-3 active:bg-surface-gray-4"},Xe={class:"flex flex-1 items-center justify-between gap-7"},Ye={class:"actions flex items-center justify-center"},Qe={key:0},et={__name:"DropdownItem",props:{option:{type:Object,default:()=>{}}},setup(c){const b=c,p=O(!1),h=O(!1),g=O(null);de(()=>{var v;(v=b.option)!=null&&v.value||(p.value=!0,h.value=!0,Z(()=>g.value.el.focus()))});const F=()=>{p.value=!p.value,p.value&&Z(()=>g.value.el.focus())},k=v=>{v.target.value&&(F(),b.option.onSave(b.option,h.value),h.value=!1)};return(v,w)=>{const C=P("Button"),l=P("FeatherIcon");return t(),u("div",We,[s("div",Xe,[H(s("div",null,L(c.option.value),513),[[W,!p.value]]),H(i(r(ge),{ref_key:"inputRef",ref:g,modelValue:c.option.value,"onUpdate:modelValue":w[0]||(w[0]=I=>c.option.value=I),class:"w-full",placeholder:c.option.placeholder,onBlur:S(k,["stop"]),onKeydown:w[1]||(w[1]=pe(S(I=>I.target.blur(),["stop"]),["enter"]))},null,8,["modelValue","placeholder"]),[[W,p.value]]),s("div",Ye,[p.value?(t(),d(C,{key:0,variant:"ghost",label:v.__("Save"),class:"opacity-0 hover:bg-surface-gray-4 group-hover:opacity-100",onClick:k},null,8,["label"])):f("",!0),!h.value&&!c.option.selected?(t(),d(C,{key:1,tooltip:v.__("Set As Primary"),variant:"ghost",icon:He,class:"opacity-0 hover:bg-surface-gray-4 group-hover:opacity-100",onClick:c.option.onClick},null,8,["tooltip","onClick"])):f("",!0),p.value?f("",!0):(t(),d(C,{key:2,tooltip:v.__("Edit"),variant:"ghost",icon:z,class:"opacity-0 hover:bg-surface-gray-4 group-hover:opacity-100",onClick:F},null,8,["tooltip"])),i(C,{tooltip:v.__("Delete"),variant:"ghost",icon:"x",class:"opacity-0 hover:bg-surface-gray-4 group-hover:opacity-100",onClick:w[2]||(w[2]=()=>c.option.onDelete(c.option,h.value))},null,8,["tooltip"])])]),c.option.selected?(t(),u("div",Qe,[i(l,{name:"check",class:"text-ink-gray-5 h-4 w-6"})])):f("",!0)])}}},tt={class:"flex flex-col gap-3"},at={class:"flex items-center justify-between rounded px-2.5 py-2 bg-surface-gray-2"},lt=["onClick"],ot={key:0},nt={key:1,class:"flex gap-2 items-center"},st={class:"flex gap-1 items-center"},rt={class:"px-2.5 py-2 border border-outline-gray-modals rounded text-base leading-4 text-ink-gray-8 flex items-center justify-between gap-2"},it={class:"flex items-center gap-2"},ct={class:"flex flex-col gap-1 text-ink-gray-9"},ut={class:"text-ink-gray-4 text-sm"},dt={key:1,class:"flex justify-center items-center border rounded border-dashed border-outline-gray-modals p-3"},pt={class:"text-sm text-ink-gray-4"},mt={class:"mt-5.5"},vt={__name:"SidePanelLayoutEditor",props:{sections:Object,doctype:String},setup(c){const b=c,p=["Table","Table MultiSelect","Geolocation","Attach","Attach Image","HTML","Signature"],h=X(()=>({doctype:b.doctype,restricted_fieldtypes:p,as_array:!0})),g=me({url:"crm.api.doc.get_fields_meta",params:h.value,cache:["fieldsMeta",b.doctype],auto:!0});function F(k,v){v&&k.columns[0].fields.push(v)}return ve(()=>b.doctype,()=>g.fetch(h.value),{immediate:!0}),(k,v)=>{const w=P("FeatherIcon"),C=P("Button");return t(),u("div",null,[i(r(le),{list:c.sections,"item-key":"name",class:"flex flex-col gap-5.5"},{item:_(({element:l})=>{var I;return[s("div",tt,[s("div",at,[s("div",{class:"flex max-w-fit cursor-pointer items-center gap-2 text-base leading-4 text-ink-gray-9",onClick:m=>l.opened=!l.opened},[i(w,{name:"chevron-right",class:be(["h-4 transition-all duration-300 ease-in-out",{"rotate-90":l.opened}])},null,8,["class"]),l.editingLabel?(t(),u("div",nt,[i(r(ke),{modelValue:l.label,"onUpdate:modelValue":m=>l.label=m,onKeydown:pe(m=>l.editingLabel=!1,["enter"]),onBlur:m=>l.editingLabel=!1,onClick:v[0]||(v[0]=S(()=>{},["stop"]))},null,8,["modelValue","onUpdate:modelValue","onKeydown","onBlur"]),l.editingLabel?(t(),d(C,{key:0,icon:"check",class:"!size-4 rounded-sm",variant:"ghost",onClick:S(m=>l.editingLabel=!1,["stop"])},null,8,["onClick"])):f("",!0)])):(t(),u("div",ot,L(k.__(l.label)||k.__("Untitled")),1))],8,lt),s("div",st,[l.editingLabel?f("",!0):(t(),d(C,{key:0,class:"!size-4 rounded-sm",variant:"ghost",onClick:m=>l.editingLabel=!0},{icon:_(()=>[i(z,{class:"h-3.5"})]),_:2},1032,["onClick"])),l.editable!==!1?(t(),d(C,{key:1,class:"!size-4 rounded-sm",icon:"x",variant:"ghost",onClick:m=>c.sections.splice(c.sections.indexOf(l),1)},null,8,["onClick"])):f("",!0)])]),H(s("div",null,[i(r(le),{list:((I=l.columns)==null?void 0:I[0].fields)||[],group:"fields","item-key":"fieldname",class:"flex flex-col gap-1.5",handle:".cursor-grab"},{item:_(({element:m})=>[s("div",rt,[s("div",it,[i(Ne,{class:"h-3.5 cursor-grab"}),s("div",null,L(m.label),1)]),i(C,{variant:"ghost",icon:"x",class:"!size-4 rounded-sm",onClick:o=>l.columns[0].fields.splice(l.columns[0].fields.indexOf(m),1)},null,8,["onClick"])])]),_:2},1032,["list"]),r(g).data&&l.editable!==!1?(t(),d(Je,{key:0,value:"",options:r(g).data,onChange:m=>F(l,m)},{target:_(({togglePopover:m})=>[i(C,{class:"w-full h-8 mt-1.5 !bg-surface-gray-1",variant:"outline",label:k.__("Add Field"),iconLeft:"plus",onClick:o=>m()},null,8,["label","onClick"])]),"item-label":_(({option:m})=>[s("div",ct,[s("div",null,L(m.label),1),s("div",ut,L(`${m.fieldname} - ${m.fieldtype}`),1)])]),_:2},1032,["options","onChange"])):(t(),u("div",dt,[s("div",pt,L(k.__("This section is not editable")),1)]))],512),[[W,l.opened]])])]}),_:1},8,["list"]),s("div",mt,[i(C,{class:"w-full h-8",variant:"subtle",label:k.__("Add Section"),iconLeft:"plus",onClick:v[1]||(v[1]=l=>c.sections.push({label:k.__("New Section"),opened:!0,name:"section_"+r(ne)(),columns:[{name:"column_"+r(ne)(),fields:[]}]}))},null,8,["label"])])])}}},yt={class:"flex items-center gap-2 text-2xl font-semibold leading-6 text-ink-gray-9"},_t={class:"flex flex-col gap-5.5"},ft={class:"flex justify-between gap-2"},ht={class:"flex flex-row-reverse gap-2"},gt={key:0,class:"flex gap-4"},bt={key:0,class:"flex flex-1 flex-col border rounded"},kt={key:0,class:"flex h-16 items-center justify-center text-base text-ink-gray-5"},Ct={key:1,class:"flex flex-1 justify-center items-center text-ink-gray-5 bg-surface-gray-2 rounded"},xt={__name:"SidePanelModal",props:Q({doctype:{type:String,default:"CRM Lead"}},{modelValue:{},modelModifiers:{}}),emits:Q(["reload"],["update:modelValue"]),setup(c,{emit:b}){const p=c,h=b,g=Ce(c,"modelValue"),F=O(p.doctype),k=O(!1),v=O(!1),w=O(!1);O({});function C(){return{doctype:F.value,type:"Side Panel"}}const l=me({url:"crm.fcrm.doctype.crm_fields_layout.crm_fields_layout.get_fields_layout",cache:["SidePanel",F.value],params:C(),onSuccess(o){l.originalData=JSON.parse(JSON.stringify(o))}});ve(()=>l==null?void 0:l.data,()=>{v.value=JSON.stringify(l==null?void 0:l.data)!==JSON.stringify(l==null?void 0:l.originalData)},{deep:!0}),de(()=>xe(I,100)());function I(){Z(()=>{l.params=C(),l.reload()})}function m(){let o=JSON.parse(JSON.stringify(l.data));o.forEach(N=>{N.sections.forEach(U=>{U.columns&&U.columns.forEach(D=>{D.fields&&(D.fields=D.fields.map(j=>j.fieldname).filter(Boolean))})})}),k.value=!0,Se("crm.fcrm.doctype.crm_fields_layout.crm_fields_layout.save_fields_layout",{doctype:F.value,type:"Side Panel",layout:JSON.stringify(o[0].sections)}).then(()=>{k.value=!1,g.value=!1,Le("side_panel_layout_builder",{doctype:F.value}),h("reload")})}return(o,N)=>{const U=P("Button");return t(),d(r($e),{modelValue:g.value,"onUpdate:modelValue":N[1]||(N[1]=D=>g.value=D),options:{size:"3xl"}},{"body-title":_(()=>[s("h3",yt,[s("div",null,L(o.__("Edit Field Layout")),1),v.value?(t(),d(r(we),{key:0,label:o.__("Not Saved"),variant:"subtle",theme:"orange"},null,8,["label"])):f("",!0)])]),"body-content":_(()=>{var D,j;return[s("div",_t,[s("div",ft,[i(U,{label:w.value?o.__("Hide preview"):o.__("Show preview"),onClick:N[0]||(N[0]=x=>w.value=!w.value)},null,8,["label"]),s("div",ht,[i(U,{loading:k.value,label:o.__("Save"),variant:"solid",onClick:m},null,8,["loading","label"]),i(U,{label:o.__("Reset"),onClick:I},null,8,["label"])])]),(j=(D=r(l).data)==null?void 0:D[0])!=null&&j.sections?(t(),u("div",gt,[i(vt,{class:"flex flex-1 flex-col pr-2",sections:r(l).data[0].sections,doctype:F.value},null,8,["sections","doctype"]),w.value?(t(),u("div",bt,[i(qt,{sections:r(l).data[0].sections,doctype:F.value,docname:"",preview:!0},{default:_(({section:x})=>[x.name=="contacts_section"?(t(),u("div",kt,L(o.__("No contacts added")),1)):f("",!0)]),_:1},8,["sections","doctype"])])):(t(),u("div",Ct,L(o.__("Toggle on for preview")),1))])):f("",!0)])]}),_:1},8,["modelValue"])}}};const wt={class:"sections flex flex-col overflow-y-auto"},$t={key:0,class:"section flex flex-col"},St={key:0,class:"w-full section-border h-px border-t"},Lt={class:"p-1 sm:p-3"},Vt={key:0,class:"field flex items-center gap-2 px-3 leading-5 first:mt-3"},Bt={class:"w-[35%] min-w-20 shrink-0 flex items-center gap-0.5"},Ft={class:"truncate text-sm text-ink-gray-5"},It={key:0,class:"text-ink-red-2"},Dt={class:"flex items-center justify-between w-[65%]"},Mt={class:"grid min-h-[28px] flex-1 items-center overflow-hidden text-base"},Nt={key:0,class:"flex h-7 cursor-pointer items-center px-2 py-1 text-ink-gray-5"},Ot={key:1},Ut={key:0,class:"truncate"},Pt={key:1,class:"text-base leading-5 text-ink-gray-4 truncate"},jt={class:"my-2 p-1.5 min-w-40 space-y-1.5 divide-y divide-outline-gray-1 rounded-lg bg-surface-modal shadow-2xl ring-1 ring-black ring-opacity-5 focus:outline-none"},Et={key:1},Tt={class:"p-1.5 pl-3 pr-4 text-base text-ink-gray-4"},At={class:"pt-1.5"},zt={class:"cursor-pointer"},Jt={key:7,class:"form-control"},Rt={key:8,class:"form-control"},Kt={class:"ml-1"},Gt={__name:"SidePanelLayout",props:{sections:{type:Object},doctype:{type:String,default:"CRM Lead",required:!0},docname:{type:String,required:!0},preview:{type:Boolean,default:!1},addContact:{type:Function}},emits:["beforeFieldChange","afterFieldChange","reload"],setup(c,{emit:b}){var Y;const p=c,h=b,{getFormattedPercent:g,getFormattedFloat:F,getFormattedCurrency:k}=Re(p.doctype),{users:v,isManager:w,getUser:C}=Ke(),l=O(!1);let I={doc:{}},m;if(p.docname){let a=Ie(p.doctype,p.docname);I=a.document,m=a.triggerOnChange}const o=X(()=>I.doc||{}),N=X(()=>{var y;if(!((y=p.sections)!=null&&y.length))return[];let a=!1;return p.sections.map($=>{var V;(V=$.columns)!=null&&V.length&&($.columns[0].fields=$.columns[0].fields.map(B=>U(B)));let M=ye($,a);return M.showEditButton&&(a=!0),M})});function U(a){var $,M;a.fieldtype=="Select"&&typeof a.options=="string"&&(a.options=a.options.split(`
`).map(V=>({label:V,value:V})),a.options[0].value!==""&&a.options.unshift({label:"",value:""})),a.fieldtype==="Link"&&a.options==="User"&&(a.fieldtype="User",a.link_filters=JSON.stringify({...a.link_filters?JSON.parse(a.link_filters):{},name:["in",(M=($=v.data)==null?void 0:$.crmUsers)==null?void 0:M.map(V=>V.name)]}));let y={...a,filters:a.link_filters&&JSON.parse(a.link_filters),placeholder:a.placeholder||a.label,display_via_depends_on:se(a.depends_on,o.value),mandatory_via_depends_on:se(a.mandatory_depends_on,o.value)};return y.visible=_e(y),y}const D=Be(),j=((Y=D==null?void 0:D.vnode)==null?void 0:Y.props)??{};async function x(a,y){if(p.preview)return;await m(y.fieldname,a),j.onBeforeFieldChange!==void 0?h("beforeFieldChange",{[y.fieldname]:a}):I.save.submit(null,{onSuccess:()=>h("afterFieldChange",{[y.fieldname]:a})})}function ye(a,y){var M;let $=a.name=="contacts_section";return a.showEditButton=!(Oe.value||!w()||$||y),a.visible=$||((M=a.columns)==null?void 0:M[0].fields.filter(V=>V.visible).length),a}function _e(a){var y;return p.preview?!0:(a.fieldtype=="Check"||a.read_only&&((y=o.value)==null?void 0:y[a.fieldname])||!a.read_only)&&(!a.depends_on||a.display_via_depends_on)&&!a.hidden}function fe(){return N.value.findIndex(a=>a.visible)}return(a,y)=>{const $=P("Button"),M=P("FeatherIcon"),V=P("FormControl");return t(),u(E,null,[s("div",wt,[(t(!0),u(E,null,R(N.value,(B,he)=>(t(),u(E,{key:B.name},[B.visible?(t(),u("div",$t,[he!==fe()?(t(),u("div",St)):f("",!0),s("div",Lt,[i(Me,{labelClass:"px-2 font-semibold",headerClass:"h-8",label:B.label,hideLabel:!B.label,opened:B.opened},ee({default:_(()=>[te(a.$slots,"default",ae({ref_for:!0},{section:B}),()=>{var J;return[(J=B.columns)!=null&&J[0].fields.length?(t(),d(je,{key:0,class:"column flex flex-col gap-1.5 overflow-y-auto"},{default:_(()=>[(t(!0),u(E,null,R(B.columns[0].fields||[],e=>(t(),u(E,{key:e.fieldname},[e.visible?(t(),u("div",Vt,[i(r(K),{text:a.__(e.label),hoverDelay:1},{default:_(()=>[s("div",Bt,[s("div",Ft,L(a.__(e.label)),1),e.reqd||e.mandatory_depends_on&&e.mandatory_via_depends_on?(t(),u("div",It," * ")):f("",!0)])]),_:2},1032,["text"]),s("div",Dt,[s("div",Mt,[e.read_only&&!["Int","Float","Currency","Percent","Check","Dropdown"].includes(e.fieldtype)?(t(),u("div",Nt,[i(r(K),{text:a.__(e.tooltip)},{default:_(()=>[s("div",null,L(o.value[e.fieldname]),1)]),_:2},1032,["text"])])):e.fieldtype==="Dropdown"?(t(),u("div",Ot,[i(r(Ve),null,{target:_(({isOpen:n,togglePopover:T})=>[i($,{label:o.value[e.fieldname],class:"dropdown-button flex items-center justify-between bg-surface-white !px-2.5 py-1.5 text-base text-ink-gray-8 placeholder-ink-gray-4 transition-colors hover:bg-surface-white focus:bg-surface-white focus:shadow-sm focus:outline-none focus:ring-0",onClick:T},{suffix:_(()=>[i(M,{name:n?"chevron-up":"chevron-down",class:"h-4 text-ink-gray-5"},null,8,["name"])]),default:_(()=>[o.value[e.fieldname]?(t(),u("div",Ut,L(o.value[e.fieldname]),1)):(t(),u("div",Pt,L(e.placeholder),1))]),_:2},1032,["label","onClick"])]),body:_(()=>{var n;return[s("div",jt,[s("div",null,[(n=e.options)!=null&&n.length?(t(!0),u(E,{key:0},R(e.options,T=>(t(),d(et,{key:T.name,option:T},null,8,["option"]))),128)):(t(),u("div",Et,[s("div",Tt,L(a.__("No {0} Available",[e.label])),1)]))]),s("div",At,[i($,{variant:"ghost",class:"w-full !justify-start",label:a.__("Create New"),iconLeft:"plus",onClick:T=>e.create()},null,8,["label","onClick"])])])]}),_:2},1024)])):e.fieldtype=="Check"?(t(),d(V,{key:2,class:"form-control",type:"checkbox",modelValue:o.value[e.fieldname],"onUpdate:modelValue":n=>o.value[e.fieldname]=n,onChange:S(n=>x(n.target.checked,e),["stop"]),disabled:!!e.read_only},null,8,["modelValue","onUpdate:modelValue","onChange","disabled"])):["Small Text","Text","Long Text","Code"].includes(e.fieldtype)?(t(),d(V,{key:3,class:"form-control",type:"textarea",value:o.value[e.fieldname],placeholder:e.placeholder,debounce:500,onChange:S(n=>x(n.target.value,e),["stop"])},null,8,["value","placeholder","onChange"])):e.fieldtype==="Select"?(t(),d(V,{key:4,class:"form-control cursor-pointer [&_select]:cursor-pointer truncate",type:"select",modelValue:o.value[e.fieldname],"onUpdate:modelValue":n=>o.value[e.fieldname]=n,options:e.options,placeholder:e.placeholder,onChange:S(n=>x(n.target.value,e),["stop"])},null,8,["modelValue","onUpdate:modelValue","options","placeholder","onChange"])):e.fieldtype==="User"?(t(),d(oe,{key:5,class:"form-control",value:o.value[e.fieldname]&&r(C)(o.value[e.fieldname]).full_name,doctype:"User",filters:e.filters,onChange:n=>x(n,e),placeholder:"Select "+e.label+"...",hideMe:!0},ee({"item-prefix":_(({option:n})=>[i(re,{class:"mr-1.5",user:n.value,size:"sm"},null,8,["user"])]),"item-label":_(({option:n})=>[i(r(K),{text:n.value},{default:_(()=>[s("div",zt,L(r(C)(n.value).full_name),1)]),_:2},1032,["text"])]),_:2},[o.value[e.fieldname]?{name:"prefix",fn:_(()=>[i(re,{class:"mr-1.5",user:o.value[e.fieldname],size:"sm"},null,8,["user"])]),key:"0"}:void 0]),1032,["value","filters","onChange","placeholder"])):["Link","Dynamic Link"].includes(e.fieldtype)?(t(),d(oe,{key:6,class:"form-control select-text",value:o.value[e.fieldname],doctype:e.fieldtype=="Link"?e.options:o.value[e.options],filters:e.filters,placeholder:e.placeholder,onChange:n=>x(n,e),onCreate:e.create},null,8,["value","doctype","filters","placeholder","onChange","onCreate"])):e.fieldtype==="Datetime"?(t(),u("div",Jt,[i(r(Ue),{"icon-left":"",value:o.value[e.fieldname],formatter:n=>r(ie)(n,"",!0,!0),placeholder:e.placeholder,placement:"left-start",hideIcon:!0,onChange:n=>x(n,e)},null,8,["value","formatter","placeholder","onChange"])])):e.fieldtype==="Date"?(t(),u("div",Rt,[i(r(Pe),{"icon-left":"",value:o.value[e.fieldname],formatter:n=>r(ie)(n,"",!0),placeholder:e.placeholder,placement:"left-start",hideIcon:!0,onChange:n=>x(n,e)},null,8,["value","formatter","placeholder","onChange"])])):e.fieldtype==="Percent"?(t(),d(A,{key:9,class:"form-control",type:"text",value:r(g)(e.fieldname,o.value),placeholder:e.placeholder,debounce:500,onChange:S(n=>x(r(q)(n.target.value),e),["stop"]),disabled:!!e.read_only},null,8,["value","placeholder","onChange","disabled"])):e.fieldtype==="Password"?(t(),d(De,{key:10,class:"form-control",value:o.value[e.fieldname],placeholder:e.placeholder,debounce:500,onChange:S(n=>x(n.target.value,e),["stop"]),disabled:!!e.read_only},null,8,["value","placeholder","onChange","disabled"])):e.fieldtype==="Int"?(t(),d(A,{key:11,class:"form-control",type:"text",value:o.value[e.fieldname]||"0",placeholder:e.placeholder,debounce:500,onChange:S(n=>x(n.target.value,e),["stop"]),disabled:!!e.read_only},null,8,["value","placeholder","onChange","disabled"])):e.fieldtype==="Float"?(t(),d(A,{key:12,class:"form-control",type:"text",value:r(F)(e.fieldname,o.value),placeholder:e.placeholder,debounce:500,onChange:S(n=>x(r(q)(n.target.value),e),["stop"]),disabled:!!e.read_only},null,8,["value","placeholder","onChange","disabled"])):e.fieldtype==="Currency"?(t(),d(A,{key:13,class:"form-control",type:"text",value:r(k)(e.fieldname,o.value),placeholder:e.placeholder,debounce:500,onChange:S(n=>x(r(q)(n.target.value),e),["stop"]),disabled:!!e.read_only},null,8,["value","placeholder","onChange","disabled"])):(t(),d(V,{key:14,class:"form-control",type:"text",value:o.value[e.fieldname],placeholder:e.placeholder,debounce:500,onChange:S(n=>x(n.target.value,e),["stop"])},null,8,["value","placeholder","onChange"]))]),s("div",Kt,[e.fieldtype==="Link"&&e.link&&o.value[e.fieldname]?(t(),d(ze,{key:0,class:"h-4 w-4 shrink-0 cursor-pointer text-ink-gray-5 hover:text-ink-gray-8",onClick:S(n=>e.link(o.value[e.fieldname]),["stop"])},null,8,["onClick"])):f("",!0),e.fieldtype==="Link"&&e.edit&&o.value[e.fieldname]?(t(),d(z,{key:1,class:"size-3.5 shrink-0 cursor-pointer text-ink-gray-5 hover:text-ink-gray-8",onClick:S(n=>e.edit(o.value[e.fieldname]),["stop"])},null,8,["onClick"])):f("",!0)])])])):f("",!0)],64))),128))]),_:2},1024)):f("",!0)]},!0)]),_:2},[c.preview?void 0:{name:"actions",fn:_(()=>[te(a.$slots,"actions",ae({ref_for:!0},{section:B}),()=>[B.showEditButton?(t(),d($,{key:0,variant:"ghost",class:"w-7 mr-2",icon:z,onClick:y[0]||(y[0]=J=>l.value=!0)})):f("",!0)],!0)]),key:"0"}]),1032,["label","hideLabel","opened"])])])):f("",!0)],64))),128))]),l.value?(t(),d(xt,{key:0,modelValue:l.value,"onUpdate:modelValue":y[1]||(y[1]=B=>l.value=B),doctype:c.doctype,onReload:y[2]||(y[2]=()=>h("reload"))},null,8,["modelValue","doctype"])):f("",!0)],64)}}},qt=ue(Gt,[["__scopeId","data-v-b33d7dbf"]]),{getView:Zt}=Fe();function ce(c){return{list:{label:__("List"),icon:G(Ee)},group_by:{label:__("Group By"),icon:G(Te)},kanban:{label:__("Kanban"),icon:G(Ae)}}[c]}function aa(c,b,p){let h=b||"list",g=Zt(c,h,p);return g&&!g.icon&&(g.icon=ce(h).icon),g||ce(h)}export{qt as S,He as a,aa as g};
//# sourceMappingURL=view-2c80ca05.js.map
