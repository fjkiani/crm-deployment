import{j as Q,y as P,l as I,a as X,e as $,f as r,g as D,w as f,d as c,c as v,t as _,B as k,b as o,a8 as Z,A as ee,K as te,u as a,aA as R,r as A,F as z,n as S,ay as ae,N as ne,O as le,a6 as se,a5 as oe,a1 as re}from"./index-6bb6ee33.js";import{u as ie,g as u,b as V}from"./Link-9116521d.js";import{_ as ue}from"./Icon-54448da3.js";import{D as U}from"./index-e1ee9b35.js";const ce={class:"flex flex-col space-y-1.5"},de={key:0,class:"block text-xs text-ink-gray-5"},fe={class:"flex items-center p-1 text-ink-gray-4"},me={class:"flex-1 text-center text-base font-medium text-ink-gray-6"},ve={class:"flex items-center justify-center gap-1 p-1"},pe={class:"flex flex-col items-center justify-center p-1 text-ink-gray-8"},he={class:"flex items-center text-xs uppercase"},ge=["onClick"],ye={class:"flex justify-end space-x-1 p-1"},Be=Q({__name:"DateRangePicker",props:{value:{},modelValue:{},placeholder:{},formatter:{type:Function},readonly:{type:Boolean},inputClass:{},placement:{},label:{}},emits:["update:modelValue","change"],setup(w,{expose:d,emit:B}){const l=w,b=B,{currentYear:F,currentMonth:x,today:C,datesAsWeeks:s,formattedMonth:N,prevMonth:q,nextMonth:E}=ie(),K=P(()=>{var i,g,y;let e="mt-2";return(i=l.placement)!=null&&i.startsWith("top")?e="mb-2":(g=l.placement)!=null&&g.startsWith("left")?e="mr-2":(y=l.placement)!=null&&y.startsWith("right")&&(e="ml-2"),e}),p=P(()=>l.value?l.value:l.modelValue),n=I(""),t=I("");function L(e){n.value&&t.value?(n.value=u(e),t.value=""):n.value&&!t.value?t.value=u(e):n.value=u(e),T()}function T(){if(!n.value||!t.value)return;let e=V(n.value),i=V(t.value);if(e>i){let g=e;e=i,i=g}n.value=u(e),t.value=u(i)}function W(){let e=`${n.value},${t.value}`;!n.value&&!t.value&&(e=""),b("change",e),b("update:modelValue",e)}function O(){let e=t.value?V(t.value):C.value;F.value=e.getFullYear(),x.value=e.getMonth()+1}function G(e){return!n.value||!t.value?!1:e>=V(n.value)&&e<=V(t.value)}function H(e){return e?(typeof e=="string"&&(e=e.split(",")),l.formatter?l.formatter(e[0])+" to "+l.formatter(e[1]):e):""}function J(){n.value="",t.value="",W()}const Y=I();return X(()=>{let e=typeof(p==null?void 0:p.value)=="string"?p.value.split(","):p.value;n.value=(e==null?void 0:e[0])||"",t.value=(e==null?void 0:e[1])||"",O()}),d({open:()=>{var e;(e=Y.value)==null||e.open()}}),(e,i)=>{const g=$("FeatherIcon"),y=$("Button");return r(),D(a(ae),{ref_key:"popoverRef",ref:Y,onOpen:O,class:"flex w-full [&>div:first-child]:w-full",placement:e.placement},{target:f(({togglePopover:M})=>[c("div",ce,[l.label?(r(),v("label",de,_(l.label),1)):k("",!0),o(a(R),te({readonly:"",type:"text",placeholder:e.placeholder,value:p.value&&e.formatter?H(p.value):p.value,onFocus:h=>e.readonly?null:M(),class:["w-full",e.inputClass]},e.$attrs),Z({_:2},[e.$slots.prefix?{name:"prefix",fn:f(()=>[ee(e.$slots,"prefix")]),key:"0"}:void 0]),1040,["placeholder","value","onFocus","class"])])]),body:f(({togglePopover:M})=>[c("div",{class:S(["w-fit select-none text-base text-ink-gray-9 divide-y divide-outline-gray-modals rounded-lg bg-surface-modal shadow-2xl ring-1 ring-black ring-opacity-5 focus:outline-none",K.value])},[c("div",fe,[o(y,{variant:"ghost",class:"h-7 w-7",onClick:a(q)},{default:f(()=>[o(g,{"stroke-width":2,name:"chevron-left",class:"h-4 w-4"})]),_:1},8,["onClick"]),c("div",me,_(a(N)),1),o(y,{variant:"ghost",class:"h-7 w-7",onClick:a(E)},{default:f(()=>[o(g,{"stroke-width":2,name:"chevron-right",class:"h-4 w-4"})]),_:1},8,["onClick"])]),c("div",ve,[o(a(R),{class:"w-28 text-sm",type:"text",modelValue:n.value,"onUpdate:modelValue":i[0]||(i[0]=h=>n.value=h)},null,8,["modelValue"]),o(a(R),{class:"w-28 text-sm",type:"text",modelValue:t.value,"onUpdate:modelValue":i[1]||(i[1]=h=>t.value=h)},null,8,["modelValue"])]),c("div",pe,[c("div",he,[(r(),v(z,null,A(["s","m","t","w","t","f","s"],(h,j)=>c("div",{class:"flex h-6 w-8 items-center justify-center text-center",key:j},_(h),1)),64))]),(r(!0),v(z,null,A(a(s),(h,j)=>(r(),v("div",{class:"flex items-center",key:j},[(r(!0),v(z,null,A(h,m=>(r(),v("div",{key:a(u)(m),class:S(["flex h-8 w-8 cursor-pointer items-center justify-center rounded hover:bg-surface-gray-2",{"text-ink-gray-3":m.getMonth()!==a(x)-1,"text-ink-gray-9":m.getMonth()===a(x)-1,"font-extrabold text-ink-gray-9":a(u)(m)===a(u)(a(C)),"rounded-none bg-surface-gray-3":G(m),"rounded-l-md rounded-r-none bg-surface-gray-6 text-ink-white hover:bg-surface-gray-6":n.value&&a(u)(m)===a(u)(n.value),"rounded-r-md bg-surface-gray-6 text-ink-white hover:bg-surface-gray-6":t.value&&a(u)(m)===a(u)(t.value)}]),onClick:()=>L(m)},_(m.getDate()),11,ge))),128))]))),128))]),c("div",ye,[o(y,{label:"Clear",onClick:()=>{J(),M()},disabled:!n.value||!t.value},null,8,["onClick","disabled"]),o(y,{variant:"solid",label:"Apply",disabled:!n.value||!t.value,onClick:()=>{W(),M()}},null,8,["disabled","onClick"])])],2)]),_:3},8,["placement"])}}}),xe={class:"flex items-center"},ke={key:0,class:"mx-0.5 text-base text-ink-gray-4","aria-hidden":"true"},_e=["onClick"],we={class:"flex items-center"},be={class:"whitespace-nowrap"},Ce={key:0,class:"flex flex-row-reverse gap-2 items-center min-w-11"},Fe={__name:"ViewBreadcrumbs",props:ne({routeName:{type:String,required:!0}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(w){const d=le(w,"modelValue"),B=l=>l.name===d.value.currentView.name;return(l,b)=>{const F=$("router-link"),x=$("Button"),C=$("FeatherIcon");return r(),v("div",xe,[o(F,{to:{name:w.routeName},class:S(["px-0.5 py-1 text-lg font-medium focus:outline-none focus-visible:ring-2 focus-visible:ring-outline-gray-3",[d.value?"text-ink-gray-5 hover:text-ink-gray-7":"text-ink-gray-7"]])},{default:f(()=>[se(_(l.__(w.routeName)),1)]),_:1},8,["to","class"]),d.value?(r(),v("span",ke," / ")):k("",!0),d.value?(r(),D(a(U),{key:1,options:d.value.viewsDropdownOptions},{default:f(({open:s})=>[o(x,{variant:"ghost",class:"text-lg font-medium text-nowrap",label:l.__(d.value.currentView.label),iconRight:s?"chevron-up":"chevron-down"},{prefix:f(()=>[o(ue,{icon:d.value.currentView.icon,class:"h-4"},null,8,["icon"])]),_:2},1032,["label","iconRight"])]),item:f(({item:s,close:N})=>[c("button",{class:"group flex text-ink-gray-6 gap-4 h-7 w-full justify-between items-center rounded px-2 text-base hover:bg-surface-gray-3",onClick:s.onClick},[c("div",we,[s.icon&&typeof s.icon=="string"?(r(),D(C,{key:0,name:s.icon,class:"mr-2 h-4 w-4 flex-shrink-0 text-ink-gray-7","aria-hidden":"true"},null,8,["name"])):s.icon?(r(),D(oe(s.icon),{key:1,class:"mr-2 h-4 w-4 flex-shrink-0 text-ink-gray-7"})):k("",!0),c("span",be,_(s.label),1)]),s.name?(r(),v("div",Ce,[o(a(U),{placement:"right-start",options:d.value.viewActions(s,N)},{default:f(()=>[o(x,{variant:"ghost",class:"!size-5 hidden group-hover:block",icon:"more-horizontal",onClick:b[0]||(b[0]=re(()=>{},["stop"]))})]),_:2},1032,["options"]),B(s)?(r(),D(C,{key:0,name:"check",class:"size-4 text-ink-gray-7"})):k("",!0)])):k("",!0)],8,_e)]),_:1},8,["options"])):k("",!0)])}}};export{Fe as _,Be as a};
//# sourceMappingURL=ViewBreadcrumbs-d9a1cfd3.js.map
