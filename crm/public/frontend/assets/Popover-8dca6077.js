import{l as w,aT as y,j as _,bg as te,y as k,bo as re,bp as ne,I as oe,bk as ae,b9 as se,bf as B,aY as $,aO as H,aS as le,be as ie,bh as z,a as ue,ay as pe,v as ce,G as O,bq as de,k as ve,br as fe,bs as P,a_ as b,bt as me,b1 as q,bu as Y,aR as he,_ as W,f as g,c as T,d as S,a7 as ge,aN as be,g as x,w as M,b as A,u as I,aA as ye,A as D,S as R,K as V,ad as Ce,a6 as Pe,t as j,n as L,F as U,r as Z,B as K,a5 as Q,ai as we,af as ke,bv as Te,T as E,L as Ie,M as Me,aM as xe,C as Se,b4 as Oe}from"./index-ecb7d9f9.js";import{i as De}from"./modals-46bf454d.js";let G=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function J(t){var n,l;let u=(n=t.innerText)!=null?n:"",p=t.cloneNode(!0);if(!(p instanceof HTMLElement))return u;let o=!1;for(let d of p.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))d.remove(),o=!0;let e=o?(l=p.innerText)!=null?l:"":u;return G.test(e)&&(e=e.replace(G,"")),e}function Re(t){let n=t.getAttribute("aria-label");if(typeof n=="string")return n.trim();let l=t.getAttribute("aria-labelledby");if(l){let u=l.split(" ").map(p=>{let o=document.getElementById(p);if(o){let e=o.getAttribute("aria-label");return typeof e=="string"?e.trim():J(o).trim()}return null}).filter(Boolean);if(u.length>0)return u.join(", ")}return J(t).trim()}function Le(t){let n=w(""),l=w("");return()=>{let u=y(t);if(!u)return"";let p=u.innerText;if(n.value===p)return l.value;let o=Re(u).trim().toLowerCase();return n.value=p,l.value=o,o}}var Fe=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Fe||{}),Ee=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(Ee||{});function Ae(t){requestAnimationFrame(()=>requestAnimationFrame(t))}let X=Symbol("MenuContext");function N(t){let n=ve(X,null);if(n===null){let l=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(l,N),l}return n}let Be=_({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(t,{slots:n,attrs:l}){let u=w(1),p=w(null),o=w(null),e=w([]),d=w(""),v=w(null),i=w(1);function f(r=a=>a){let a=v.value!==null?e.value[v.value]:null,s=he(r(e.value.slice()),C=>y(C.dataRef.domRef)),m=a?s.indexOf(a):null;return m===-1&&(m=null),{items:s,activeItemIndex:m}}let c={menuState:u,buttonRef:p,itemsRef:o,items:e,searchQuery:d,activeItemIndex:v,activationTrigger:i,closeMenu:()=>{u.value=1,v.value=null},openMenu:()=>u.value=0,goToItem(r,a,s){let m=f(),C=fe(r===P.Specific?{focus:P.Specific,id:a}:{focus:r},{resolveItems:()=>m.items,resolveActiveIndex:()=>m.activeItemIndex,resolveId:h=>h.id,resolveDisabled:h=>h.dataRef.disabled});d.value="",v.value=C,i.value=s??1,e.value=m.items},search(r){let a=d.value!==""?0:1;d.value+=r.toLowerCase();let s=(v.value!==null?e.value.slice(v.value+a).concat(e.value.slice(0,v.value+a)):e.value).find(C=>C.dataRef.textValue.startsWith(d.value)&&!C.dataRef.disabled),m=s?e.value.indexOf(s):-1;m===-1||m===v.value||(v.value=m,i.value=1)},clearSearch(){d.value=""},registerItem(r,a){let s=f(m=>[...m,{id:r,dataRef:a}]);e.value=s.items,v.value=s.activeItemIndex,i.value=1},unregisterItem(r){let a=f(s=>{let m=s.findIndex(C=>C.id===r);return m!==-1&&s.splice(m,1),s});e.value=a.items,v.value=a.activeItemIndex,i.value=1}};return te([p,o],(r,a)=>{var s;c.closeMenu(),re(a,ne.Loose)||(r.preventDefault(),(s=y(p))==null||s.focus())},k(()=>u.value===0)),oe(X,c),ae(k(()=>se(u.value,{0:B.Open,1:B.Closed}))),()=>{let r={open:u.value===0,close:c.closeMenu};return $({ourProps:{},theirProps:t,slot:r,slots:n,attrs:l,name:"Menu"})}}}),_e=_({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(t,{attrs:n,slots:l,expose:u}){var p;let o=(p=t.id)!=null?p:`headlessui-menu-button-${H()}`,e=N("MenuButton");u({el:e.buttonRef,$el:e.buttonRef});function d(c){switch(c.key){case b.Space:case b.Enter:case b.ArrowDown:c.preventDefault(),c.stopPropagation(),e.openMenu(),O(()=>{var r;(r=y(e.itemsRef))==null||r.focus({preventScroll:!0}),e.goToItem(P.First)});break;case b.ArrowUp:c.preventDefault(),c.stopPropagation(),e.openMenu(),O(()=>{var r;(r=y(e.itemsRef))==null||r.focus({preventScroll:!0}),e.goToItem(P.Last)});break}}function v(c){switch(c.key){case b.Space:c.preventDefault();break}}function i(c){t.disabled||(e.menuState.value===0?(e.closeMenu(),O(()=>{var r;return(r=y(e.buttonRef))==null?void 0:r.focus({preventScroll:!0})})):(c.preventDefault(),e.openMenu(),Ae(()=>{var r;return(r=y(e.itemsRef))==null?void 0:r.focus({preventScroll:!0})})))}let f=De(k(()=>({as:t.as,type:n.type})),e.buttonRef);return()=>{var c;let r={open:e.menuState.value===0},{...a}=t,s={ref:e.buttonRef,id:o,type:f.value,"aria-haspopup":"menu","aria-controls":(c=y(e.itemsRef))==null?void 0:c.id,"aria-expanded":e.menuState.value===0,onKeydown:d,onKeyup:v,onClick:i};return $({ourProps:s,theirProps:a,slot:r,attrs:n,slots:l,name:"MenuButton"})}}}),$e=_({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(t,{attrs:n,slots:l,expose:u}){var p;let o=(p=t.id)!=null?p:`headlessui-menu-items-${H()}`,e=N("MenuItems"),d=w(null);u({el:e.itemsRef,$el:e.itemsRef}),le({container:k(()=>y(e.itemsRef)),enabled:k(()=>e.menuState.value===0),accept(r){return r.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:r.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(r){r.setAttribute("role","none")}});function v(r){var a;switch(d.value&&clearTimeout(d.value),r.key){case b.Space:if(e.searchQuery.value!=="")return r.preventDefault(),r.stopPropagation(),e.search(r.key);case b.Enter:if(r.preventDefault(),r.stopPropagation(),e.activeItemIndex.value!==null){let s=e.items.value[e.activeItemIndex.value];(a=y(s.dataRef.domRef))==null||a.click()}e.closeMenu(),Y(y(e.buttonRef));break;case b.ArrowDown:return r.preventDefault(),r.stopPropagation(),e.goToItem(P.Next);case b.ArrowUp:return r.preventDefault(),r.stopPropagation(),e.goToItem(P.Previous);case b.Home:case b.PageUp:return r.preventDefault(),r.stopPropagation(),e.goToItem(P.First);case b.End:case b.PageDown:return r.preventDefault(),r.stopPropagation(),e.goToItem(P.Last);case b.Escape:r.preventDefault(),r.stopPropagation(),e.closeMenu(),O(()=>{var s;return(s=y(e.buttonRef))==null?void 0:s.focus({preventScroll:!0})});break;case b.Tab:r.preventDefault(),r.stopPropagation(),e.closeMenu(),O(()=>me(y(e.buttonRef),r.shiftKey?q.Previous:q.Next));break;default:r.key.length===1&&(e.search(r.key),d.value=setTimeout(()=>e.clearSearch(),350));break}}function i(r){switch(r.key){case b.Space:r.preventDefault();break}}let f=ie(),c=k(()=>f!==null?(f.value&B.Open)===B.Open:e.menuState.value===0);return()=>{var r,a;let s={open:e.menuState.value===0},{...m}=t,C={"aria-activedescendant":e.activeItemIndex.value===null||(r=e.items.value[e.activeItemIndex.value])==null?void 0:r.id,"aria-labelledby":(a=y(e.buttonRef))==null?void 0:a.id,id:o,onKeydown:v,onKeyup:i,role:"menu",tabIndex:0,ref:e.itemsRef};return $({ourProps:C,theirProps:m,slot:s,attrs:n,slots:l,features:z.RenderStrategy|z.Static,visible:c.value,name:"MenuItems"})}}}),Ne=_({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(t,{slots:n,attrs:l,expose:u}){var p;let o=(p=t.id)!=null?p:`headlessui-menu-item-${H()}`,e=N("MenuItem"),d=w(null);u({el:d,$el:d});let v=k(()=>e.activeItemIndex.value!==null?e.items.value[e.activeItemIndex.value].id===o:!1),i=Le(d),f=k(()=>({disabled:t.disabled,get textValue(){return i()},domRef:d}));ue(()=>e.registerItem(o,f)),pe(()=>e.unregisterItem(o)),ce(()=>{e.menuState.value===0&&v.value&&e.activationTrigger.value!==0&&O(()=>{var h,F;return(F=(h=y(d))==null?void 0:h.scrollIntoView)==null?void 0:F.call(h,{block:"nearest"})})});function c(h){if(t.disabled)return h.preventDefault();e.closeMenu(),Y(y(e.buttonRef))}function r(){if(t.disabled)return e.goToItem(P.Nothing);e.goToItem(P.Specific,o)}let a=de();function s(h){a.update(h)}function m(h){a.wasMoved(h)&&(t.disabled||v.value||e.goToItem(P.Specific,o,0))}function C(h){a.wasMoved(h)&&(t.disabled||v.value&&e.goToItem(P.Nothing))}return()=>{let{disabled:h,...F}=t,ee={active:v.value,disabled:h,close:e.closeMenu};return $({ourProps:{id:o,ref:d,role:"menuitem",tabIndex:h===!0?void 0:-1,"aria-disabled":h===!0?!0:void 0,onClick:c,onFocus:r,onPointerenter:s,onMouseenter:s,onPointermove:m,onMousemove:m,onPointerleave:C,onMouseleave:C},theirProps:{...l,...F},slot:ee,attrs:l,slots:n,name:"MenuItem"})}}});const Ve={},je={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function Ke(t,n){return g(),T("svg",je,n[0]||(n[0]=[S("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M13.75 7.06416V12.1549C13.75 12.9834 13.0784 13.6549 12.25 13.6549H3.75C2.92157 13.6549 2.25 12.9834 2.25 12.1549V7.06416L6.81475 9.5221C7.55469 9.92053 8.44531 9.92053 9.18525 9.5221L13.75 7.06416ZM13.7469 5.93008C13.7137 5.41511 13.4172 4.95039 12.9583 4.70457L8.70833 2.42778C8.26586 2.19074 7.73414 2.19074 7.29167 2.42778L3.04167 4.70457C2.5828 4.95039 2.28629 5.41511 2.25311 5.93008L7.28885 8.64163C7.73282 8.88069 8.26719 8.88069 8.71115 8.64163L13.7469 5.93008ZM1.25 6.02679C1.25 5.10517 1.75706 4.25829 2.56945 3.82309L6.81945 1.5463C7.55691 1.15123 8.4431 1.15123 9.18055 1.5463L13.4306 3.82309C14.2429 4.25829 14.75 5.10517 14.75 6.02679V12.1549C14.75 13.5356 13.6307 14.6549 12.25 14.6549H3.75C2.36929 14.6549 1.25 13.5356 1.25 12.1549V6.02679Z",fill:"currentColor"},null,-1)]))}const rt=W(Ve,[["render",Ke]]),He={key:0,class:"flex h-7 items-center px-2 text-sm font-medium text-ink-gray-4"},We=["onClick"],ze={class:"whitespace-nowrap text-ink-gray-7"},qe={key:0,class:"border-t p-1.5"},nt={__name:"Dropdown",props:{button:{type:Object,default:null},options:{type:Array,default:()=>[]},placement:{type:String,default:"left"}},setup(t){const n=t,l=ge(),u=be(),p={enterActiveClass:"transition duration-100 ease-out",enterFromClass:"transform scale-95 opacity-0",enterToClass:"transform scale-100 opacity-100",leaveActiveClass:"transition duration-75 ease-in",leaveFromClass:"transform scale-100 opacity-100",leaveToClass:"transform scale-95 opacity-0"},o=k(()=>{var f;return((f=n.options[0])!=null&&f.group?n.options:[{group:"",items:n.options}]).map((c,r)=>({key:r,group:c.group,hideLabel:c.hideLabel||!1,items:v(c.items)}))}),e=k(()=>n.placement==="left"?"bottom-start":n.placement==="right"?"bottom-end":n.placement==="center"?"bottom-center":n.placement==="right-start"?"right-start":"bottom");function d(i){let f=i.onClick||null;return!f&&i.route&&l&&(f=()=>l.push(i.route)),{name:i.name,label:i.label,icon:i.icon,group:i.group,component:i.component,onClick:f}}function v(i){return(i||[]).filter(Boolean).filter(f=>f.condition?f.condition():!0).map(f=>d(f))}return(i,f)=>(g(),x(I(Be),{as:"div",class:"relative inline-block text-left"},{default:M(({open:c})=>[A(I(ye),{transition:p,show:c,placement:e.value},{target:M(({togglePopover:r})=>[A(I(_e),{as:"template"},{default:M(()=>[i.$slots.default?D(i.$slots,"default",R(V({key:0},{open:c,togglePopover:r}))):(g(),x(I(Ce),V({key:1,active:c},t.button),{default:M(()=>{var a;return[Pe(j(t.button?((a=t.button)==null?void 0:a.label)||null:"Options"),1)]}),_:2},1040,["active"]))]),_:2},1024)]),body:M(()=>[S("div",{class:L(["mt-2 min-w-40 divide-y divide-outline-gray-modals rounded-lg bg-surface-modal shadow-2xl ring-1 ring-black ring-opacity-5 focus:outline-none",{"mt-2":["bottom","left","right"].includes(t.placement),"ml-2":t.placement=="right-start"}])},[A(I($e),{class:L(["min-w-40 divide-y divide-outline-gray-modals",{"left-0 origin-top-left":t.placement=="left","right-0 origin-top-right":t.placement=="right","inset-x-0 origin-top":t.placement=="center","mt-0 origin-top-right":t.placement=="right-start"}])},{default:M(()=>[(g(!0),T(U,null,Z(o.value,r=>(g(),T("div",{key:r.key,class:"p-1.5"},[r.group&&!r.hideLabel?(g(),T("div",He,j(r.group),1)):K("",!0),(g(!0),T(U,null,Z(r.items,a=>(g(),x(I(Ne),{key:a.label},{default:M(({active:s})=>[D(i.$slots,"item",V({ref_for:!0},{item:a,active:s}),()=>[a.component?(g(),x(Q(a.component),{key:0,active:s},null,8,["active"])):(g(),T("button",{key:1,class:L([s?"bg-surface-gray-3":"text-ink-gray-6","group flex h-7 w-full items-center rounded px-2 text-base"]),onClick:a.onClick},[a.icon&&typeof a.icon=="string"?(g(),x(I(we),{key:0,name:a.icon,class:"mr-2 h-4 w-4 flex-shrink-0 text-ink-gray-7","aria-hidden":"true"},null,8,["name"])):a.icon?(g(),x(Q(a.icon),{key:1,class:"mr-2 h-4 w-4 flex-shrink-0 text-ink-gray-7"})):K("",!0),S("span",ze,j(a.label),1)],10,We))])]),_:2},1024))),128))]))),128))]),_:3},8,["class"]),I(u).footer?(g(),T("div",qe,[D(i.$slots,"footer")])):K("",!0)],2)]),_:2},1032,["show","placement"])]),_:3}))}},Ue={},Ze={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function Qe(t,n){return g(),T("svg",Ze,n[0]||(n[0]=[ke('<g clip-path="url(#clip0_1191_1930)"><path d="M1.45001 12.1V12.1C1.45001 11.7869 1.60364 11.4936 1.86111 11.3154L6.87595 7.84359C7.52855 7.39178 8.38658 7.36866 9.06257 7.78465L13.5984 10.5759C14.1276 10.9016 14.45 11.4786 14.45 12.1V12.1" stroke="currentColor"></path><path d="M14.45 7.60001L11.95 9.60001M4.45001 9.60001L1.45001 7.60001" stroke="currentColor"></path><path d="M4 9V3C4 2.44772 4.44772 2 5 2H11C11.5523 2 12 2.44772 12 3V9" stroke="currentColor"></path><path d="M4 4.49999L2.1786 6C1.71727 6.37992 1.45002 6.94623 1.45002 7.54385L1.45002 12.1C1.45002 13.2046 2.34545 14.1 3.45002 14.1L12.45 14.1C13.5546 14.1 14.45 13.2046 14.45 12.1V7.51988C14.45 6.93603 14.1949 6.38133 13.7516 6.00137L12 4.5" stroke="currentColor"></path><path d="M6 6H10" stroke="currentColor" stroke-linecap="round"></path><path d="M6 4H9" stroke="currentColor" stroke-linecap="round"></path></g>',1)]))}const ot=W(Ue,[["render",Qe]]),Ge={name:"Popover",inheritAttrs:!1,props:{show:{default:void 0},trigger:{type:String,default:"click"},hoverDelay:{type:Number,default:0},leaveDelay:{type:Number,default:0},placement:{type:String,default:"bottom-start"},popoverClass:[String,Object,Array],transition:{default:null},hideOnBlur:{default:!0}},emits:["open","close","update:show"],expose:["open","close"],data(){return{popoverContainerClass:"body-container",showPopup:!1,targetWidth:null,pointerOverTargetOrPopup:!1}},watch:{show(t){t?this.open():this.close()}},created(){if(!(typeof window>"u")&&!document.getElementById("frappeui-popper-root")){const t=document.createElement("div");t.id="frappeui-popper-root",document.body.appendChild(t)}},mounted(){this.listener=t=>{const n=t.target,l=this.$refs.reference,u=this.$refs.popover;if(n===l||n===u||(l==null?void 0:l.contains(n))||(u==null?void 0:u.contains(n)))return;if(!document.getElementById("frappeui-popper-root").contains(n))return this.close();const d=`.${this.popoverContainerClass}`,v=n==null?void 0:n.closest(d),i=l==null?void 0:l.closest(d);v&&i&&v===i&&this.close()},this.hideOnBlur&&(document.addEventListener("click",this.listener),document.addEventListener("mousedown",this.listener)),this.$nextTick(()=>{this.targetWidth=this.$refs.target.clientWidth})},beforeDestroy(){this.popper&&this.popper.destroy(),document.removeEventListener("click",this.listener),document.removeEventListener("mousedown",this.listener)},computed:{showPropPassed(){return this.show!=null},isOpen:{get(){return this.showPropPassed?this.show:this.showPopup},set(t){t=!!t,this.showPropPassed?this.$emit("update:show",t):this.showPopup=t,t===!1?this.$emit("close"):t===!0&&this.$emit("open")}},popupTransition(){let t={default:{enterActiveClass:"transition duration-150 ease-out",enterFromClass:"translate-y-1 opacity-0",enterToClass:"translate-y-0 opacity-100",leaveActiveClass:"transition duration-150 ease-in",leaveFromClass:"translate-y-0 opacity-100",leaveToClass:"translate-y-1 opacity-0"}};return typeof this.transition=="string"?t[this.transition]:this.transition}},methods:{setupPopper(){this.popper?this.updatePosition():this.popper=Te(this.$refs.reference,this.$refs.popover,{placement:this.placement})},updatePosition(){this.popper&&this.popper.update()},togglePopover(t){t instanceof Event&&(t=null),t==null&&(t=!this.isOpen),t=!!t,t?this.open():this.close()},open(){this.isOpen=!0,this.$nextTick(()=>this.setupPopper())},close(){this.isOpen=!1},onMouseover(){this.pointerOverTargetOrPopup=!0,this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.trigger==="hover"&&(this.hoverDelay?this.hoverTimer=setTimeout(()=>{this.pointerOverTargetOrPopup&&this.open()},Number(this.hoverDelay)*1e3):this.open())},onMouseleave(t){this.pointerOverTargetOrPopup=!1,this.hoverTimer&&(clearTimeout(this.hoverTimer),this.hoverTimer=null),this.trigger==="hover"&&(this.leaveTimer&&clearTimeout(this.leaveTimer),this.leaveDelay?this.leaveTimer=setTimeout(()=>{this.pointerOverTargetOrPopup||this.close()},Number(this.leaveDelay)*1e3):this.pointerOverTargetOrPopup||this.close())}}},Je={ref:"reference"},Ye={class:"rounded-lg border border-gray-100 bg-surface-white shadow-xl"};function Xe(t,n,l,u,p,o){return g(),T("div",Je,[S("div",{ref:"target",class:L(["flex",t.$attrs.class]),onClick:n[0]||(n[0]=(...e)=>o.updatePosition&&o.updatePosition(...e)),onFocusin:n[1]||(n[1]=(...e)=>o.updatePosition&&o.updatePosition(...e)),onKeydown:n[2]||(n[2]=(...e)=>o.updatePosition&&o.updatePosition(...e)),onMouseover:n[3]||(n[3]=(...e)=>o.onMouseover&&o.onMouseover(...e)),onMouseleave:n[4]||(n[4]=(...e)=>o.onMouseleave&&o.onMouseleave(...e))},[D(t.$slots,"target",R(E({togglePopover:o.togglePopover,updatePosition:o.updatePosition,open:o.open,close:o.close,isOpen:o.isOpen})))],34),(g(),x(Oe,{to:"#frappeui-popper-root"},[S("div",{ref:"popover",class:L(["relative z-[100]",[p.popoverContainerClass,l.popoverClass]]),style:Se({minWidth:p.targetWidth?p.targetWidth+"px":null}),onMouseover:n[5]||(n[5]=e=>p.pointerOverTargetOrPopup=!0),onMouseleave:n[6]||(n[6]=(...e)=>o.onMouseleave&&o.onMouseleave(...e))},[A(xe,R(E(o.popupTransition)),{default:M(()=>[Ie(S("div",null,[D(t.$slots,"body",R(E({togglePopover:o.togglePopover,updatePosition:o.updatePosition,open:o.open,close:o.close,isOpen:o.isOpen})),()=>[S("div",Ye,[D(t.$slots,"body-main",R(E({togglePopover:o.togglePopover,updatePosition:o.updatePosition,open:o.open,close:o.close,isOpen:o.isOpen})))])])],512),[[Me,o.isOpen]])]),_:3},16)],38)]))],512)}const at=W(Ge,[["render",Xe]]);export{rt as E,at as P,nt as _,ot as a};
//# sourceMappingURL=Popover-8dca6077.js.map
